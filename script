local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({
    Name = "Rich Hub",
    HidePremium = false,
    IntroText = "Rich Hub",
    SaveConfig = true,
    ConfigFolder = "Scripts"
})

local Tab = Window:MakeTab({
    Name = "Universal Scripts",
    Icon = "rbxassetid://4370318685",
    PremiumOnly = false
})

-- Remove unnecessary Tab3 definition

local function NotifyPlayerJoin(playerName)
    if OrionLib.Flags["toggle"].Value then
        OrionLib:MakeNotification({
            Name = "Player Joined",
            Content = playerName .. " has joined the server.",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
end

local function NotifyPlayerLeave(playerName)
    if OrionLib.Flags["toggle"].Value then
        OrionLib:MakeNotification({
            Name = "Player Left",
            Content = playerName .. " has left the server.",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
end

game.Players.PlayerAdded:Connect(function(player)
    NotifyPlayerJoin(player.Name)
end)

game.Players.PlayerRemoving:Connect(function(player)
    NotifyPlayerLeave(player.Name)
end)

-- Toggling functionality
local function ToggleNotification(enabled)
    OrionLib.Flags["toggle"].Value = enabled
end

Tab:AddToggle({
    Name = "Notify me about server: Leaves & Joins",
    Default = true,
    Save = true,
    Flag = "toggle",
    Callback = ToggleNotification
})

print(OrionLib.Flags["toggle"].Value) -- prints the value of the toggle

OrionLib:Init()